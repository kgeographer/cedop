<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>EDOP Pilot</title>

  <link rel="stylesheet" href="/static/css/site.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin="" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>

<header class="ms-3">
  <h3 class="d-flex align-items-center justify-content-between">
    <a href="#" id="site-title" class="text-decoration-none text-reset" style="cursor:pointer;">Environmental Dimensions of Place (EDOP)</a>
    <span class="d-flex align-items-center gap-2 fs-5">
      <a href="#" data-bs-toggle="modal" data-bs-target="#about-modal">About</a>
      <a href="http://edop.kgeographer.org/docs" target="_blank">API docs</a>
      <span class="badge bg-primary fw-normal">v0.1 prototype, Jan. 2026</span>
    </span>
  </h3>
</header>

<!-- About Modal -->
<div class="modal fade" id="about-modal" tabindex="-1" aria-labelledby="about-modal-label" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable" style="max-width: 75%;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="about-modal-label">About EDOP</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <h5 style="color:#993333;">Technical</h5>
        <p>EDOP assigns environmental signatures to geographic coordinates by identifying the HydroATLAS sub-basin (level 08, ~190k globally) containing each point. Each signature comprises 47 attributes spanning climate, terrain, hydrology, land cover, and soil characteristics—organized into persistence tiers from geological (stable over millennia) to anthropogenic (changing within decades).</p>

        <p><strong>Data Sources</strong></p>
        <ul>
          <li><strong>BasinATLAS</strong> (WWF/McGill): 1.5M sub-basins with 281 environmental attributes; we use level 08 (~190k basins, median 200 km²)</li>
          <li><strong>OneEarth Bioregions</strong>: 847 ecoregions in a 4-level hierarchy (Realms → Subrealms → Bioregions → Ecoregions)</li>
          <li><strong>Wikipedia</strong>: LLM-summarized descriptions for 821 ecoregions (96.9% coverage)</li>
          <li><strong>World Historical Gazetteer</strong>: Place name resolution and coordinate matching</li>
        </ul>

        <p><strong>Stack</strong></p>
        <ul>
          <li>FastAPI + PostgreSQL/PostGIS + pgvector</li>
          <li>50-dimensional PCA vectors enable continuous similarity ranking via cosine distance</li>
          <li>No frontend framework; vanilla JavaScript + Leaflet + Bootstrap</li>
        </ul>

        <p><strong>API</strong><br>
        RESTful endpoints return signatures, similarity rankings, and ecoregion metadata. Documentation at <a href="/docs" target="_blank">/docs</a>. Code at <a href="https://github.com/kgeographer/edop" target="_blank">github.com/kgeographer/edop</a>.</p>

        <h5 class="mt-4" style="color:#993333;">Project Mission</h5>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<main>
  {% block content %}{% endblock %}
</main>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
<script src="/static/js/main.js"></script>
</body>
</html>
